{"primaryContentSections":[{"content":[{"text":"Example","type":"heading","anchor":"Example","level":2},{"code":["import PUWebPayments","import UIKit","","class AwesomeViewController: UIViewController {","","  \/\/ 1. Create instance of `CVVAuthorizationService`","  private let service = CVVAuthorizationService.Factory().make()","","  \/\/ 2. When you receive the `OrderCreateResponse` with `WARNING_CONTINUE_CVV` `statusCode` call `CVVAuthorizationService.authorize(refReqId:)` method","  private func onDidReceiveOrderCreateResponseWithExpectedStatusCode() {","","    \/\/ 3. Set the `delegate` and `presentingViewController` to service","    service.delegate = self","    service.presentingViewController = self","","    \/\/ 4. Create `redirectUrl`","    let redirectUrl = \/\/ `redirectUri` from OrderCreateResponse, for ex: \"https:\/\/merch-prod.snd.payu.com\/front\/threeds?refReqId=19a1b4d3c416b6df943d6b337831\"","","    \/\/ 5. Extract `refReqId` from `redirectUrl`","    let extractor = CVVAuthorizationExtractor()","    let refReqId = extractor.extractRefReqId(redirectUrl)!","","    \/\/ 6. Set the delegate to `service` and implement `SoftAcceptServiceDelegate` methods","    service.delegate = self","","    \/\/ 7. Call `authenticate` method","    service.authenticate(request: request)","    ","  }","}","","\/\/ MARK: - SoftAcceptServiceDelegate","extension AwesomeViewController: CVVAuthorizationServiceDelegate {","  func cvvAuthorizationService(_ service: CVVAuthorizationService, didComplete status: CVVAuthorizationResult) {","    \/\/ Chech the transaction status, etc.","  }","","  func cvvAuthorizationService(_ service: CVVAuthorizationService, didFail error: Error) {","    \/\/ Show error to user","  }","}"],"type":"codeListing","syntax":"swift"}],"kind":"content"}],"schemaVersion":{"major":0,"minor":3,"patch":0},"seeAlsoSections":[{"generated":true,"identifiers":["doc:\/\/payu-ios-swift.PUSDK\/documentation\/PUSDK\/GettingStartedWithWebPaymentsExampleOfWebPaymentsViewController"],"title":"Examples","anchor":"Examples"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/pusdk\/gettingstartedwithwebpaymentsexampleofcvvauthorizationservice"]}],"sections":[],"metadata":{"modules":[{"name":"PUSDK"}],"roleHeading":"Article","role":"article","title":"Getting Started with CVVAuthorizationService"},"hierarchy":{"paths":[["doc:\/\/payu-ios-swift.PUSDK\/documentation\/PUSDK","doc:\/\/payu-ios-swift.PUSDK\/documentation\/PUSDK\/GettingStartedWithWebPayments"]]},"identifier":{"url":"doc:\/\/payu-ios-swift.PUSDK\/documentation\/PUSDK\/GettingStartedWithWebPaymentsExampleOfCVVAuthorizationService","interfaceLanguage":"swift"},"kind":"article","abstract":[{"text":"An example on how to interact with SoftAcceptService","type":"text"}],"references":{"doc://payu-ios-swift.PUSDK/documentation/PUSDK/GettingStartedWithWebPaymentsExampleOfWebPaymentsViewController":{"type":"topic","role":"article","kind":"article","abstract":[{"type":"text","text":"An example on how to interact with WebPaymentsViewController"}],"identifier":"doc:\/\/payu-ios-swift.PUSDK\/documentation\/PUSDK\/GettingStartedWithWebPaymentsExampleOfWebPaymentsViewController","title":"Getting Started with WebPaymentsViewController","url":"\/documentation\/pusdk\/gettingstartedwithwebpaymentsexampleofwebpaymentsviewcontroller"},"doc://payu-ios-swift.PUSDK/documentation/PUSDK":{"title":"PUSDK","abstract":[],"identifier":"doc:\/\/payu-ios-swift.PUSDK\/documentation\/PUSDK","kind":"symbol","url":"\/documentation\/pusdk","type":"topic","role":"collection"},"doc://payu-ios-swift.PUSDK/documentation/PUSDK/GettingStartedWithWebPayments":{"title":"PUWebPayments","role":"collectionGroup","kind":"article","abstract":[{"text":"Constains necessary classes, structures, extensions to allow users to authorize ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"WARNING_CONTINUE_CVV"}]},{"text":", ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"WARNING_CONTINUE_3DS"}]},{"text":", etc. transactions via WebView or other components.","type":"text"}],"type":"topic","url":"\/documentation\/pusdk\/gettingstartedwithwebpayments","identifier":"doc:\/\/payu-ios-swift.PUSDK\/documentation\/PUSDK\/GettingStartedWithWebPayments"}}}